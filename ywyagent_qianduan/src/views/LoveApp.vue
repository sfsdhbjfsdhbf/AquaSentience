<template>
  <ChatRoom
    title="AIå›¾åƒæ°´å°ä¸“å®¶"
    :api-url="apiUrl"
    :chat-id="chatId"
    :get-params="getParams"
    ai-avatar="ðŸ–¼ï¸"
    :is-manus-app="false"
  />
</template>

<script setup>
import { ref, onMounted } from 'vue'
import ChatRoom from '../components/ChatRoom.vue'

const apiUrl = 'http://localhost:8123/api/ai/watermark_app/chat/sse/emitter'
const chatId = ref('')

// ç”Ÿæˆå”¯ä¸€çš„èŠå¤©å®¤ID
const generateChatId = () => {
  return `watermark_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
}

// èŽ·å–è¯·æ±‚å‚æ•°
const getParams = (message) => {
  return {
    message: message,
    chatId: chatId.value
  }
}

onMounted(() => {
  chatId.value = generateChatId()
})
</script>

